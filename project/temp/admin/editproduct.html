{%extends 'admin/base2.html'%}
{% block content %}
    {%load static%}
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700"/>
    <!-- https://fonts.google.com/specimen/Roboto -->
    <link rel="stylesheet" href="{% static 'admin/css/fontawesome.min.css'%}" />
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="{% static 'admin/jquery-ui-datepicker/jquery-ui.min.css'%}" type="text/css" />
    <!-- http://api.jqueryui.com/datepicker/ -->
    <link rel="stylesheet" href="{% static 'admin/css/bootstrap.min.css'%}" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="{% static 'admin/css/templatemo-style.css'%}">
    <!--
	Product Admin CSS Template
	https://templatemo.com/tm-524-product-admin
	-->
  
  
    <div class="container tm-mt-big tm-mb-big">
      <div class="row">
        <div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto">
          <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
            <div class="row">
              <div class="col-12">
                <h2 class="tm-block-title d-inline-block">EDIT PRODUCT</h2>
              </div>
            </div>
            <div class="row tm-edit-product-row">
              <div class="col-xl-6 col-lg-6 col-md-12">
                <form action="editproduct2/{{l.id}}" method="post" class="tm-edit-product-form" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="form-group mb-3">
                    <label for="name">PRODUCT NAME</label>
                    <input id="name" name="name" type="text"value="{{l.name}}" class="form-control validate" required/>
                  </div>
                  <div class="form-group mb-3">
                    <label for="name">MODEL NAME</label>
                    <input id="model" name="model" type="text"value="{{l.model}}" class="form-control validate" required/>
                  </div>
                  <div class="row">
                    <div class="form-group mb-3 col-xs-12 col-sm-6">
                        <label for="expire_date">COLOR</label>
                        <input id="color" name="color"type="text" value="{{l.color}}" class="form-control validate" required/>
                      </div>
                      <div class="form-group mb-3 col-xs-12 col-sm-6">
                        <label for="stock">QUANTITY</label>
                        <input id="quantity" name="quantity" type="text"value="{{l.quantity}}" class="form-control validate" required/>
                      </div>
                </div>
                  
                  <div class="form-group mb-3">
                    <label for="category">CATEGORY</label>
                    <select name="category" class="custom-select tm-select-accounts"id="category">
                      <option value="EYEGLASS MEN"{% if l.category == "a" %}selected{% endif %}>EYEGLASS MEN</option>
                      <option value="EYEGLASS WOMEN"{% if l.category == "b" %}selected{% endif %}>EYEGLASS WOMEN</option>
                      <option value="EYEGLASS KIDS"{% if l.category == "c" %}selected{% endif %}>EYEGLASS KIDS</option>
                      <option value="SUNGLASS MEN"{% if l.category == "d" %}selected{% endif %}>SUNGLASS MEN</option>
                      <option value="SUNGLASS WOMEN"{% if l.category == "e" %}selected{% endif %}>SUNGLASS WOMEN</option>
                      <option value="SUNGLASS KIDS"{% if l.category == "f" %}selected{% endif %}>SUNGLASS KIDS</option>
                      <option value="SUNGLASS GLASS"{% if l.category == "g" %}selected{% endif %}>SUNGLASS GLASS</option>
                    </select>
                  </div>
                  <div class="row">
                      <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="expire_date">PRICE</label>
                          <input id="price" name="price"type="text" value="{{l.price}}" class="form-control validate" required/>
                        </div>
                        <div class="form-group mb-3 col-xs-12 col-sm-6">
                          <label for="stock">DISCOUNT</label>
                          <input id="discount" name="discount" type="text"value="{{l.discount}}" class="form-control validate" required/>
                        </div>
                  </div>
                  
              </div>
              <div class="col-xl-6 col-lg-6 col-md-12 mx-auto mb-4">
                <div class="tm-product-img-dummy mx-auto">
                  <img class="col-xl-12 col-lg-6 col-md-12 mx-auto mb-4" src="{{l.image.url}}" alt="">
                </div>
                
                <div class="custom-file mt-3 mb-3">
                  <input id="fileInput" type="file" style="display:none;" name="image" required/>
                  <input type="button" class="btn btn-primary btn-block mx-auto"value="UPLOAD PRODUCT IMAGE" onclick="document.getElementById('fileInput').click();" />
                </div>
                <div class="form-group mb-3">
                  <label for="discription">DESCRIPTION</label>
                  <textarea name="discription" class="form-control validate" rows="3" required>{{l.discription}}</textarea>
                </div>
              </div>
              <!-- <div class="form-group mb-4 col-xs-12 col-sm-6">
                <label  for="image">Product Image</label>
                <input type="file" class="form-control validate" value="UPLOAD PRODUCT IMAGE"style="padding-bottom: 50px;" name="image">
                
              </div>
              <div class="form-group mb-3">
                <label for="discription">DESCRIPTION</label>
                <textarea name="description" class="form-control validate" rows="3" required></textarea>
              </div> -->
        
              <!-- <div class="col-xl-6 col-lg-6 col-md-12 mx-auto mb-4">
                <div class="tm-product-img-edit mx-auto">
                  <img src="{{l.image.url}}" alt="Product image" class="img-fluid d-block mx-auto">
                  <i class="fas fa-cloud-upload-alt tm-upload-icon"
                    onclick="document.getElementById('fileInput').click();"></i>
                </div> -->
                <!-- <div class="custom-file mt-3 mb-3">
                  <input id="fileInput" type="file" style="display:none;" />
                  <input type="button" class="btn btn-primary btn-block mx-auto"value="CHANGE IMAGE NOW" onclick="document.getElementById('fileInput').click();"/>
                </div> -->
                
                
              <div class="col-12">
                <button type="submit" class="btn btn-primary btn-block text-uppercase">UPDATE NOW</button>
              </div>
            </form>
            
              <div class="col-12">
                <button type="button" class="btn btn-primary confirm-btn" data-toggle="modal" data-target="#confirmationModal" data-item="{{ i.id }}">delete</button>
              </div>
            
              <!-- Confirmation Modal -->
             <div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="confirmationModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
  <h5 class="modal-title" id="confirmationModalLabel">Confirmation</h5>
  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <p>Are you sure you want to proceed with item <span id="confirmationItem"></span>?</p>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
  <script> document.write("<p>" + clickedValue + "</p>")</script>
  <a href="delpro/{{l.id}}" id="confirmLink" class="btn btn-primary">Confirm</a>
</div>
</div>
</div>
</div>

<script>


$(document).ready(function () {
// Handle confirmation button click for each item
$('.confirm-btn').click(function () {
var item = $(this).data('item');
$('#confirmationItem').text(item);
$('#confirmLink').attr('href', '{% url "orders" %}?item=' + encodeURIComponent(item));
});
});
</script>

            </div>
          </div>
        </div>
      </div>
    </div>
    

    <script src="{% static 'admin/js/jquery-3.3.1.min.js'%}"></script>
    <!-- https://jquery.com/download/ -->
    <script src="{% static 'admin/jquery-ui-datepicker/jquery-ui.min.js'%}"></script>
    <!-- https://jqueryui.com/download/ -->
    <script src="{% static 'admin/js/bootstrap.min.js'%}"></script>
    <!-- https://getbootstrap.com/ -->
    <script>
      $(function() {
        $("#expire_date").datepicker({
          defaultDate: "10/22/2020"
        });
      });
    </script>
 {% endblock %}
