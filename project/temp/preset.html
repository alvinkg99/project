{%extends 'base.html'%}
{% block content %}
    {%load static%}
    <link rel="stylesheet"href="https://fonts.googleapis.com/css?family=Roboto:400,700"
    />
    <!-- https://fonts.google.com/specimen/Roboto -->
    <link rel="stylesheet" href="{% static 'admin/css/fontawesome.min.css'%}" />
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="{% static 'admin/css/bootstrap.min.css'%}" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="{% static 'admin/css/templatemo-style.css'%}">
    <!--
	Product Admin CSS Template
	https://templatemo.com/tm-524-product-admin
	-->

  
     
       
          <!-- <div class="tm-block tm-account-settings"> -->
            <div class="tm-bg-primary-dark tm-block tm-block-settings">
              <h2 class="tm-block-title">Password Reset</h2>
              <form action="preset2" method="post" class="tm-signup-form row">
                {% csrf_token %}
                <div align="center">
                <div class="form-group col-lg-6">
                  <label for="name">OLD PASSWORD</label>
                  <input id="name"name="oldpassword"type="password"class="form-control validate" style="background-color: #ff61d8; font-weight: bold;"/>
                </div>
                {% for msg in messages %}
           {% if 'preset' in msg.tags %}

				<div class="group" style="text-align: center;">
					<label for="pass" class="label" style="color: red;">{{msg}}</label>
				</div>
            {% endif %}
				{% endfor %}
                <div class="form-group col-lg-6 row">
                  <label for="email">NEW PASSWORD</label>
                  <input id="password" oninput="validatePassword()" required name="password" name="newpassword" type="password" class="form-control validate" style="background-color: #ff61d8; font-weight: bold"/>
                
                </div>
                <div id="password-strength"></div>
                <div class="form-group col-lg-6">
                  <label for="phone">CONFIRM NEW PASSWORD</label>
                  <input id="confirm-password" oninput="validatePassword()" required name="cnewpassword" type="password" class="form-control validate" style="background-color: #ff61d8; font-weight: bold"/>
                </div>
                <div id="confirm-password-message"></div>
              </div>
                <div class="col-12">
                  <button type="submit" id="submit-button" disabled class="btn btn-primary btn-block text-uppercase">UPDATE NOW</button>
                </div>
              </div>
              </form>
            </div>
          </div>

   

    <script src="{% static 'admin/js/jquery-3.3.1.min.js'%}"></script>
    <!-- https://jquery.com/download/ -->
    <script src="{% static 'admin/js/bootstrap.min.js'%}"></script>
    <!-- https://getbootstrap.com/ -->
    <script>
      function validatePassword() {
        var password = document.getElementById("password").value;
        var confirmPassword = document.getElementById("confirm-password").value;
        var passwordStrength = document.getElementById("password-strength");
        var confirmPasswordMessage = document.getElementById("confirm-password-message");
        var submitButton = document.getElementById("submit-button");
   
        // Define your password conditions here
        var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
   
        // Validate password
        if (regex.test(password)) {
          passwordStrength.innerHTML = "Password is strong!";
          passwordStrength.style.color = "green";
          submitButton.disabled = false;
   
        } else {
          passwordStrength.innerHTML = "Password is weak. It should contain at least 8 characters, one uppercase letter, one lowercase letter, one digit, and one special character.";
          passwordStrength.style.color = "red";
          submitButton.disabled = true;
        }
   
        // Validate confirmation password
        if (confirmPassword === password) {
          confirmPasswordMessage.innerHTML = "Passwords match!";
          confirmPasswordMessage.style.color = "green";
        } else {
          confirmPasswordMessage.innerHTML = "Passwords do not match.";
          confirmPasswordMessage.style.color = "red";
   
        }
      }
    </script>
  
    {% endblock %}